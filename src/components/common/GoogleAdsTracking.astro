---
import { TRACKING_ENABLED } from '../../consts';
import { ADS_CONFIG } from '../../config/ads';

// Google Ads global site tag (gtag.js)
// This must load before any conversion tracking events
const gtagScript = `
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '${ADS_CONFIG.ACCOUNT_ID}');
`;
---

{TRACKING_ENABLED && (
  <>
    <!-- Google Ads Global Site Tag (gtag.js) -->
    <script async src={`https://www.googletagmanager.com/gtag/js?id=${ADS_CONFIG.ACCOUNT_ID}`}></script>
    <script set:html={gtagScript} />
  </>
)}
