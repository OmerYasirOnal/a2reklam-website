---
import { PHONE_TEL, WHATSAPP_LINK } from '../../consts';

const { lang = 'tr', variant = 'default', whatsappLink = WHATSAPP_LINK, quoteLink } = Astro.props;

const labels = {
  tr: {
    call: 'Hemen Ara',
    whatsapp: 'WhatsApp',
    quote: 'Teklif Al',
  },
  en: {
    call: 'Call Now',
    whatsapp: 'WhatsApp',
    quote: 'Get Quote',
  },
  ar: {
    call: 'اتصل الآن',
    whatsapp: 'واتساب',
    quote: 'احصل على عرض سعر',
  }
};

const t = lang === 'ar' ? labels.ar : lang === 'en' ? labels.en : labels.tr;
const gridClass = variant === 'contact' ? 'grid-cols-3' : 'grid-cols-2';
---

<div class:list={['fixed bottom-0 left-0 w-full z-50 md:hidden grid h-16 bg-secondary border-t border-white/10', gridClass]}>
  <a
    href={whatsappLink}
    target="_blank"
    rel="noopener noreferrer"
    aria-label={t.whatsapp}
    data-track="lead-click"
    data-lead-type="whatsapp"
    data-lang={lang}
    data-conversion="whatsapp"
    class="flex items-center justify-center gap-2 bg-green-600 text-white font-bold active:bg-green-700 focus-visible:ring-2 focus-visible:ring-white transition-colors"
  >
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.588-5.946 0-6.556 5.332-11.891 11.893-11.891 3.181 0 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.481 8.414 0 6.556-5.332 11.892-11.893 11.892-1.99 0-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.591 5.405 0 9.801-4.398 9.801-9.805 0-5.403-4.395-9.804-9.801-9.804-5.408 0-9.805 4.398-9.805 9.804 0 2.229.615 4.317 1.784 6.149l-1.109 4.041 4.139-1.08zm9.977-6.862c-.32-.16-1.89-.932-2.185-1.041-.297-.108-.512-.16-.726.16-.215.32-.834 1.042-1.023 1.256-.188.214-.377.241-.697.08-.32-.16-1.35-.497-2.57-1.587-.948-.847-1.59-1.893-1.777-2.214-.188-.321-.02-.494.14-.654.144-.143.32-.375.48-.563.16-.188.214-.321.32-.536.108-.214.054-.401-.027-.562-.08-.16-.726-1.751-.995-2.394-.26-.629-.53-.543-.726-.553-.188-.01-.403-.012-.617-.012s-.564.08-.859.401c-.296.321-1.128 1.102-1.128 2.688 0 1.587 1.155 3.118 1.316 3.332.16.214 2.274 3.472 5.508 4.871.77.333 1.37.532 1.839.681.773.245 1.477.211 2.032.128.618-.093 1.891-.773 2.158-1.517.268-.745.268-1.383.189-1.516-.08-.135-.297-.215-.617-.375z"/></svg>
    {t.whatsapp}
  </a>
  <a
    href={`tel:${PHONE_TEL}`}
    aria-label={t.call}
    data-track="lead-click"
    data-lead-type="call"
    data-lang={lang}
    data-conversion="phone"
    class="flex items-center justify-center gap-2 bg-secondary text-primary font-bold active:bg-accent-light focus-visible:ring-2 focus-visible:ring-primary transition-colors"
  >
    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
    {t.call}
  </a>
  {variant === 'contact' && (
    <a
      href={quoteLink}
      aria-label={t.quote}
      data-track="lead-click"
      data-lead-type="quote"
      data-lang={lang}
      class="flex items-center justify-center gap-2 bg-primary text-secondary font-black active:bg-primary-hover focus-visible:ring-2 focus-visible:ring-white transition-colors"
    >
      <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12H9m12 0c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8z" /></svg>
      {t.quote}
    </a>
  )}
</div>
