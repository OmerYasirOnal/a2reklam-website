---
import { MAPS_EMBED_URL } from '../../consts';

interface Props {
  src?: string;
  title?: string;
  className?: string;
}

const {
  src = MAPS_EMBED_URL,
  title = 'Google Maps',
  className = '',
} = Astro.props;
---

<div class:list={['h-64 md:h-80 w-full rounded-2xl overflow-hidden border border-white/10 map-dark shadow-xl', className]}>
  <style>
    :global(:root) {
      /* Tweak these to tune map colors without editing component code */
      --map-filter-brightness: 0.72;
      --map-filter-contrast: 1.1;
      --map-filter-saturate: 0.85;
      --map-filter-invert: 0.85;
      --map-filter-hue: 175deg;
      --map-hover-brightness: 0.78;
      --map-hover-saturate: 0.95;
    }
    .map-dark {
      filter:
        brightness(var(--map-filter-brightness))
        contrast(var(--map-filter-contrast))
        saturate(var(--map-filter-saturate))
        invert(var(--map-filter-invert))
        hue-rotate(var(--map-filter-hue));
    }
    .map-dark:hover {
      filter:
        brightness(var(--map-hover-brightness))
        contrast(var(--map-filter-contrast))
        saturate(var(--map-hover-saturate))
        invert(var(--map-filter-invert))
        hue-rotate(var(--map-filter-hue));
    }
  </style>
  <iframe
    src={src}
    title={title}
    width="100%"
    height="100%"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
  ></iframe>
</div>
