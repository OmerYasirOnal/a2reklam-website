---
import { MAPS_EMBED_URL } from '../../consts';

interface Props {
  src?: string;
  title?: string;
  className?: string;
}

const {
  src = MAPS_EMBED_URL,
  title = 'Google Maps',
  className = '',
} = Astro.props;
---

<div class:list={['h-64 md:h-80 w-full rounded-2xl overflow-hidden border border-white/10 map-dark shadow-xl', className]}>
  <style>
    :global(:root) {
      /* Tweak these to tune map colors without editing component code */
      --map-filter-brightness: 0.75;
      --map-filter-contrast: 1.05;
      --map-filter-saturate: 0.8;
      --map-filter-hue: 170deg;
    }
    .map-dark {
      filter:
        brightness(var(--map-filter-brightness))
        contrast(var(--map-filter-contrast))
        saturate(var(--map-filter-saturate))
        hue-rotate(var(--map-filter-hue));
    }
    .map-dark:hover {
      filter:
        brightness(calc(var(--map-filter-brightness) + 0.05))
        contrast(var(--map-filter-contrast))
        saturate(calc(var(--map-filter-saturate) + 0.1))
        hue-rotate(var(--map-filter-hue));
    }
  </style>
  <iframe
    src={src}
    title={title}
    width="100%"
    height="100%"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
  ></iframe>
</div>
